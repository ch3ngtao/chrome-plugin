(function(){function n(){const n=window.location.host;return n.includes("kugou")?"kugou":n.includes("kuwo")?"kuwo":"error"}function o(){var o=null;const t=n();if("kuwo"===t){const n=document.getElementsByClassName("bg_primary");for(let e=0;e<n.length;e++)if("立即播放"===n[e].innerText){o=n[e];break}o.addEventListener("click",(function(){window.confirm("是否下载当前播放的歌曲？")&&e()}))}else if("kugou"===t)try{const n=document.getElementById("myAudio");n.addEventListener("play",(function(){window.confirm("是否下载当前播放的歌曲？")&&e()}))}catch(c){}}function e(){try{var o=null;if("kuwo"===n()){const n=document.getElementsByTagName("audio");console.log(n,"audios"),o=n[n.length-1]}else{if("kugou"!==n())return;o=document.getElementById("myAudio")}const e=o.src,t=e.substring(e.lastIndexOf("/")+1),c=document.createElement("a");c.href=e,c.download=t,c.click(),c.remove()}catch(e){console.error(e)}}window.onload=function(){o()}})();